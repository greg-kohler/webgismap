<style>
  html,
  body {
    padding: 0;
    margin: 0;
    height: 100%;
    width: 100%;
  }

  #viewDiv {
    margin: 0;
    height: 95%;
    width: 100%;
  }

  #buttonContainer {
    position: absolute;
    top: 15px;
    right: 10px;
  }

  .header-button {
    background-color: #DDA448;
    color: black;
    border: none;
    border-radius: 10px;
    font-weight: normal;
    margin-left: 1vw;
    padding: 5px;
  }

  .header-bar {
    top: 0;
    width: 100%;
    height: 5%;
    background-color: #BB342F;
    color: white;
    padding-left: 1vw;
    padding-right: 1vw;
    justify-content: center;
    align-content: center;
    font-weight: bold;
  }
</style>

<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Week 10 Assignment - GIS 5547</title>
  <link rel="stylesheet" href="https://js.arcgis.com/4.24/esri/themes/light/main.css" />
  <script src="https://js.arcgis.com/4.24/"></script>
</head>

<body>
  <div class="header-bar">Museum Scores</div>
  <div id="viewDiv"></div>
  <div id="buttonContainer">
    <button class="header-button" id="legendButton">Show Legend</button>
    <button class="header-button"
      onclick="window.open('https://www.minneapolis.org/things-to-do/arts-culture/museums/', '_blank')">
      Minneapolis Museum Info
    </button>
    <button class="header-button"
      onclick="window.open('https://www.visitsaintpaul.com/things-to-do/museums-history/', '_blank')">
      Saint Paul Museum Info
    </button>

</body>

</html>

<script>
  require(["esri/views/MapView", "esri/WebMap", "esri/widgets/Legend"], (MapView, WebMap, Legend) => {
    const webmap = new WebMap({
      portalItem: {
        id: "4ec666f53f764f8aacbe1e2af33b1d21"
      }
    });

    const view = new MapView({
      map: webmap,
      container: "viewDiv",
      zoom: 11
    });

    let legend;
    let legendVisible = false;

    view.when(() => {
      const legend = new Legend({
        view: view
      });

      const legendButton = document.getElementById("legendButton");
      legendButton.addEventListener("click", () => {
        if (!legendVisible) {
          view.ui.add(legend, "bottom-left");
          legendButton.textContent = "Hide Legend";
          legendVisible = true;
        } else {
          view.ui.remove(legend);
          legendButton.textContent = "Show Legend";
          legendVisible = false;
        }
      })
    });
  });

</script>